# Sail99-tdd-study - 공부기록 What I've Learned

---

## W01 - Chap02 TDD 시작

- TDD : Test-driven Development 테스트 주도 개발.
- 테스트부터 시작 -> 코드 구현 -> 테스트 성공시키기
- 테스트 작성시 고민 : 클래스이름, 메서드이름, 파라미터 개수, 리턴 타입, 객체/정적메서드 여부(구현방식)

<br/>

- <span style='background-color:#ffdce0;color:#808080'>레드(Red)</span>-<span style='background-color:#dcffe4;color:#808080;'>그린(Green)</span>-<span style='background-color:#fff5b1;color:#808080'>리팩터</span> : 테스트 실패 > 테스트 성공 > 코드 리팩토링(가독성 개선 등)

<br/>

> p58  
> 테스트 코드가 있으면 리팩토링을 보다 과감하게 진행할 수 있다. 잘 동작하는 코드를 수정하는 것은 심리적으로 불안감을 주기 때문에 코드 수정을 꺼리게 만든다. 하지만 해당 기능이 온전하게 동작한다는 것을 검증해주는 테스트가 있으면 코드 수정에 대한 심리적 불안감을 줄여준다.
> 
> _리팩토링을 통한 개선을 원활하게 할 수 있게 도와준다._

  
업무를 할 때 테스트 코드가 없는 환경에서 일하다 보니 나의 작은 수정이 큰 사이드 이펙트를 만드는 경우가 있었다.  
몇 번 그런 경험을 한 이후 수동으로 테스트를 열심히 해보긴 했지만 한계가 있다는 생각을 했다.  
TDD가 나의 가려운 부분을 잘 긁어주지 않을까. 열심히해보장.


---

## W02 - Chap03 테스트 코드 작성 순서

### 작성순서
#### 1. 쉬운 경우에서 어려운 경우로 진행 (쉬운 -> 어려운)
> p63  
> 한 번에 완벽한 코드를 만들면 좋겠지만, 모두가 수퍼 개발자인 것은 아니다.  
> 보통의 개발자는 한 번에 많은 코드를 만들다 보면 나도 모르게 버그를 만들고 나중에 버그를 잡기 위해 많은 시간을 허비하게 된다.  
> (...)  
> 그뿐만 아니라 코드 작성 시간이 길어지면 집중력도 떨어져서 흐름이 자주 끊기게 된다.  

*그러니까 쉬운 테스트부터 시작하기*  
점진적으로 구현을 완성해 나간다.

#### 2. 예외적인 경우에서 정상인 경우로 진행 (예외 -> 정상)
> p65  
> 예외 상황을 전혀 고려하지 않은 코드에 예외 상황을 반영하려면 코드의 구조를 뒤집거나 코드 중간에 예외 처리위한 조건문 중복 추가하는 경우 증가  
> -> 코드 복잡도 증가, 버그 발생 가능성 증가  

*예외상황 먼저 테스트하면 이런 가능성 감소함* 

<br/>

### 완급조절
1. **정해진 값**을 리턴
2. **값 비교**를 이용해서 정해진 값을 리턴
3. 다양한 테스트를 추가하면서 구현을 **일반화**

<br/>

### 지속적인 리팩토링
> p68  
> 일단 동작하는 코드를 만드는 것은 중요. 하지만 소프트웨어의 생존 시간이 길어질수록 소프트웨어의 지속적인 개선이 요구됨. > 코드 변경 필요  
> 코드를 잘 변경하려면 리팩토링을 통해 코드변경이 쉬운 구조를 만든다.

> **테스트 대상 코드의 리팩토링 시점**  
> 작은 리팩토링(상수->변수, 변수이름 변경 등)은 발견즉시  
> 메서드 구조에 영향을 주는 리팩토링(메서드 추출 등)은 구현 흐름 파악 후 진행
